/*
 * This file is generated by Entity Class Compiler, (c) CroTeam 1997-98
 */

#line 17 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"

#include "EntitiesMP/StdH/StdH.h"
#include "EntitiesMP/WorldSettingsController.h"

#include <EntitiesMP/ModelHolder2.h>
#include <EntitiesMP/ModelHolder2_tables.h>
#line 38 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"

#define MIPRATIO 0.003125f //(2*tan(90/2))/640

void CModelHolder2::SetDefaultProperties(void) {
  m_fnModel = CTFILENAME("Models\\Editor\\Axis.mdl");
  m_fnTexture = CTFILENAME("Models\\Editor\\Vector.tex");
  m_fnReflection = CTString("");
  m_fnSpecular = CTString("");
  m_fnBump = CTString("");
  m_fStretchAll = 1.0f;
  m_fStretchX = 1.0f;
  m_fStretchY = 1.0f;
  m_fStretchZ = 1.0f;
  m_strName = "";
  m_strDescription = "";
  m_bColliding = FALSE ;
  m_iModelAnimation = 0;
  m_iTextureAnimation = 0;
  m_stClusterShadows = ST_CLUSTER ;
  m_bBackground = FALSE ;
  m_bTargetable = FALSE ;
  m_cstCustomShading = CST_NONE ;
  m_aShadingDirection = ANGLE3D(AngleDeg  (45.0f) , AngleDeg  (45.0f) , AngleDeg  (45.0f));
  m_colLight = C_WHITE ;
  m_colAmbient = C_BLACK ;
  m_fnmLightAnimation = CTString("");
  m_iLightAnimation = 0;
  m_aoLightAnimation.SetData(NULL);

  m_bAttachments = TRUE ;
  m_bActive = TRUE ;
  m_fMipAdd = 0.0f;
  m_fMipMul = 1.0f;
  m_fMipFadeDist = 0.0f;
  m_fMipFadeLen = 0.0f;
  m_rMipFadeDistMetric = -1.0f;
  m_fMipFadeLenMetric = -1.0f;
  m_bRandomStretch = FALSE ;
  m_fStretchRndX = 0.2f;
  m_fStretchRndY = 0.2f;
  m_fStretchRndZ = 0.2f;
  m_fStretchRndAll = 0.0f;
  m_fStretchRandom = FLOAT3D(1 , 1 , 1);
  m_penDestruction = NULL;
  m_vDamage = FLOAT3D(0 , 0 , 0);
  m_tmLastDamage = -1000.0f;
  m_penDestroyTarget = NULL;
  m_penLastDamager = NULL;
  m_tmSpraySpawned = 0.0f;
  m_fSprayDamage = 0.0f;
  m_penSpray = NULL;
  m_fMaxDamageAmmount = 0.0f;
  m_fClassificationStretch = 1.0f;
  m_colBurning = COLOR(C_WHITE  | CT_OPAQUE );
  m_dmtLastDamageType = DMT_CHAINSAW ;
  m_fChainSawCutDamage = 300.0f;
  m_iFirstRandomAnimation = -1;
  m_fMaxTessellationLevel = 0.0f;
  CRationalEntity::SetDefaultProperties();
}
  
#line 120 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
void CModelHolder2::Precache(void) {
#line 121 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
PrecacheClass  (CLASS_BLOOD_SPRAY  , 0);
#line 122 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
  
#line 125 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
BOOL CModelHolder2::FillEntityStatistics(EntityStats * pes) 
#line 126 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 127 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
pes  -> es_strName  = m_fnModel  . FileName  () + ", " + m_fnTexture  . FileName  ();
#line 128 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
pes  -> es_ctCount  = 1;
#line 129 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
pes  -> es_ctAmmount  = 1;
#line 130 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_penDestruction  != NULL ){
#line 131 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
pes  -> es_strName  += " (destroyable)";
#line 132 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
pes  -> es_fValue  = GetDestruction  () -> m_fHealth ;
#line 133 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
pes  -> es_iScore  = 0;
#line 134 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}else {
#line 135 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
pes  -> es_fValue  = 0;
#line 136 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
pes  -> es_iScore  = 0;
#line 137 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 138 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return TRUE ;
#line 139 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
  
#line 142 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
FLOAT3D CModelHolder2::GetClassificationBoxStretch(void) 
#line 143 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 144 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return FLOAT3D (m_fClassificationStretch  , m_fClassificationStretch  , m_fClassificationStretch );
#line 145 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
  
#line 149 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
FLOAT CModelHolder2::GetMaxTessellationLevel(void) 
#line 150 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 151 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return m_fMaxTessellationLevel ;
#line 152 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
  
#line 156 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
void CModelHolder2::ReceiveDamage(CEntity * penInflictor,enum DamageType dmtType,
#line 157 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
FLOAT fDamageAmmount,const FLOAT3D & vHitPoint,const FLOAT3D & vDirection) 
#line 158 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 159 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
FLOAT fNewDamage  = fDamageAmmount ;
#line 162 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_penDestruction  == NULL ){
#line 164 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return ;
#line 165 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 166 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(dmtType  == DMT_BURNING )
#line 167 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 168 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
UBYTE  ubR  , ubG  , ubB  , ubA ;
#line 169 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
ColorToRGBA  (m_colBurning  , ubR  , ubG  , ubB  , ubA );
#line 170 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
ubR  = ClampDn  (ubR  - 4 , 32);
#line 171 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_colBurning  = RGBAToColor  (ubR  , ubR  , ubR  , ubA );
#line 172 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 174 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
CModelDestruction  * penDestruction  = GetDestruction  ();
#line 176 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
fNewDamage  *= DamageStrength  (penDestruction  -> m_eibtBodyType  , dmtType );
#line 178 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(fNewDamage  == 0){
#line 180 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return ;
#line 181 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 182 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
FLOAT fKickDamage  = fNewDamage ;
#line 183 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if((dmtType  == DMT_EXPLOSION ) || (dmtType  == DMT_IMPACT ) || (dmtType  == DMT_CANNONBALL_EXPLOSION ))
#line 184 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 185 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
fKickDamage  *= 1.5f;
#line 186 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 187 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(dmtType  == DMT_CLOSERANGE ){
#line 188 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
fKickDamage  = 0.0f;
#line 189 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 190 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(dmtType  == DMT_CHAINSAW ){
#line 191 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
fKickDamage  = 0.0f;
#line 192 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 193 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(dmtType  == DMT_BULLET  && penDestruction  -> m_eibtBodyType  == EIBT_ROCK ){
#line 194 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
fKickDamage  = 0.0f;
#line 195 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 196 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(dmtType  == DMT_BURNING )
#line 197 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 198 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
fKickDamage  = 0.0f;
#line 199 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 202 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
TIME  tmNow  = _pTimer  -> CurrentTick  ();
#line 203 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
TIME  tmDelta  = tmNow  - m_tmLastDamage ;
#line 204 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_tmLastDamage  = tmNow ;
#line 207 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_penLastDamager  = penInflictor ;
#line 210 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(tmDelta  >= _pTimer  -> TickQuantum  * 3){
#line 211 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_vDamage  = FLOAT3D (0 , 0 , 0);
#line 212 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 214 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
FLOAT3D vDirectionFixed ;
#line 215 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(vDirection  . ManhattanNorm  () > 0.5f){
#line 216 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
vDirectionFixed  = vDirection ;
#line 217 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}else {
#line 218 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
vDirectionFixed  = FLOAT3D (0 , 1 , 0);
#line 219 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 221 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_vDamage  += vDirectionFixed  * fKickDamage ;
#line 224 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_vDamage  . Length  () > GetHealth  ()){
#line 225 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(! penDestruction  -> m_bRequireExplosion  || 
#line 226 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
dmtType  == DMT_EXPLOSION  || dmtType  == DMT_CANNONBALL  || dmtType  == DMT_CANNONBALL_EXPLOSION )
#line 227 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 228 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
EDeath  eDeath ;
#line 229 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SendEvent  (eDeath );
#line 231 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_dmtLastDamageType  = dmtType ;
#line 232 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 233 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 235 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_fMaxDamageAmmount  < fDamageAmmount ){
#line 236 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fMaxDamageAmmount  = fDamageAmmount ;
#line 237 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 240 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if((dmtType  != DMT_BURNING ) && (dmtType  != DMT_CHAINSAW ) && 
#line 241 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
(m_tmSpraySpawned  <= _pTimer  -> CurrentTick  () - _pTimer  -> TickQuantum  * 8 || 
#line 242 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fSprayDamage  + fNewDamage  > 50.0f))
#line 243 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 245 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
CPlacement3D plSpray  = CPlacement3D (vHitPoint  , ANGLE3D (0 , 0 , 0));
#line 246 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_penSpray  = CreateEntity  (plSpray  , CLASS_BLOOD_SPRAY );
#line 247 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_penSpray  -> SetParent  (this );
#line 248 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
ESpawnSpray  eSpawnSpray ;
#line 251 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_fMaxDamageAmmount  > 10.0f){
#line 252 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
eSpawnSpray  . fDamagePower  = 3.0f;
#line 253 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}else if(m_fSprayDamage  + fNewDamage  > 50.0f){
#line 254 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
eSpawnSpray  . fDamagePower  = 2.0f;
#line 255 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}else {
#line 256 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
eSpawnSpray  . fDamagePower  = 1.0f;
#line 257 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 259 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
eSpawnSpray  . sptType  = penDestruction  -> m_sptType ;
#line 260 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
eSpawnSpray  . fSizeMultiplier  = penDestruction  -> m_fParticleSize ;
#line 263 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
FLOAT3D vDn  (- en_mRotation  (1 , 2) , - en_mRotation  (2 , 2) , - en_mRotation  (3 , 2));
#line 266 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
FLOAT3D vHitPointRelative  = vHitPoint  - GetPlacement  () . pl_PositionVector ;
#line 267 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
FLOAT3D vReflectingNormal ;
#line 268 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
GetNormalComponent  (vHitPointRelative  , vDn  , vReflectingNormal );
#line 269 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
vReflectingNormal  . Normalize  ();
#line 271 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
FLOAT3D vProjectedComponent  = vReflectingNormal  * (vDirection  % vReflectingNormal );
#line 272 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
FLOAT3D vSpilDirection  = vDirection  - vProjectedComponent  * 2.0f - vDn  * 0.5f;
#line 274 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
eSpawnSpray  . vDirection  = vSpilDirection ;
#line 275 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
eSpawnSpray  . penOwner  = this ;
#line 276 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
eSpawnSpray  . colCentralColor  = penDestruction  -> m_colParticles ;
#line 277 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
eSpawnSpray  . colBurnColor  = m_colBurning ;
#line 278 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
eSpawnSpray  . fLaunchPower  = penDestruction  -> m_fParticleLaunchPower ;
#line 280 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_penSpray  -> Initialize  (eSpawnSpray );
#line 281 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_tmSpraySpawned  = _pTimer  -> CurrentTick  ();
#line 282 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fSprayDamage  = 0.0f;
#line 283 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fMaxDamageAmmount  = 0.0f;
#line 284 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 286 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(dmtType  == DMT_CHAINSAW  && m_fChainSawCutDamage  > 0)
#line 287 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 288 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fChainSawCutDamage  -= fDamageAmmount ;
#line 289 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_fChainSawCutDamage  <= 0)
#line 290 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 291 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
EDeath  eDeath ;
#line 292 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SendEvent  (eDeath );
#line 294 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_dmtLastDamageType  = dmtType ;
#line 295 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 296 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 298 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fSprayDamage  += fNewDamage ;
#line 299 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
  
#line 302 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
void * CModelHolder2::GetEntityInfo(void) {
#line 303 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
CModelDestruction  * pmd  = GetDestruction  ();
#line 304 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(pmd  != NULL )
#line 305 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 306 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return GetStdEntityInfo  (pmd  -> m_eibtBodyType );
#line 307 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 308 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return CEntity  :: GetEntityInfo  ();
#line 309 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
  
#line 311 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
class CModelDestruction * CModelHolder2::GetDestruction(void) 
#line 312 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 313 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
ASSERT  (m_penDestruction  == NULL  || IsOfClass  (m_penDestruction  , "ModelDestruction"));
#line 314 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return (CModelDestruction  *) m_penDestruction  . ep_pen ;
#line 315 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
  
#line 316 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
BOOL CModelHolder2::IsTargetable(void)const 
#line 317 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 318 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return m_bTargetable ;
#line 319 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
  
#line 322 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
CAnimData * CModelHolder2::GetAnimData(SLONG slPropertyOffset) 
#line 323 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 324 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(slPropertyOffset  == _offsetof  (CModelHolder2  , m_iModelAnimation )){
#line 325 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return GetModelObject  () -> GetData  ();
#line 326 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}else if(slPropertyOffset  == _offsetof  (CModelHolder2  , m_iTextureAnimation )){
#line 327 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return GetModelObject  () -> mo_toTexture  . GetData  ();
#line 328 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}else if(slPropertyOffset  == _offsetof  (CModelHolder2  , m_iLightAnimation )){
#line 329 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return m_aoLightAnimation  . GetData  ();
#line 330 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}else {
#line 331 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return CEntity  :: GetAnimData  (slPropertyOffset );
#line 332 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 333 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
  
#line 336 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
void CModelHolder2::AdjustMipFactor(FLOAT & fMipFactor) 
#line 337 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 339 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_fMipFadeDist  > 0){
#line 340 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
CModelObject * pmo  = GetModelObject  ();
#line 341 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(pmo  == NULL ){
#line 342 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return ;
#line 343 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 345 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
FLOAT fMipForFade  = fMipFactor ;
#line 352 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(fMipForFade  > m_fMipFadeDist ){
#line 354 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
fMipFactor  = UpperLimit  (0.0f);
#line 355 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return ;
#line 356 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 359 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
FLOAT fFade  = (m_fMipFadeDist  - fMipForFade );
#line 360 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_fMipFadeLen  > 0){
#line 361 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
fFade  /= m_fMipFadeLen ;
#line 362 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}else {
#line 363 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(fFade  > 0){
#line 364 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
fFade  = 1.0f;
#line 365 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 366 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 368 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
fFade  = Clamp  (fFade  , 0.0f , 1.0f);
#line 370 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
pmo  -> mo_colBlendColor  = (pmo  -> mo_colBlendColor  & ~ 255) | UBYTE  (255 * fFade );
#line 371 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 373 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
fMipFactor  = fMipFactor  * m_fMipMul  + m_fMipAdd ;
#line 374 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
  
#line 377 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
BOOL CModelHolder2::AdjustShadingParameters(FLOAT3D & vLightDirection,COLOR & colLight,COLOR & colAmbient) 
#line 378 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 379 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
switch(m_cstCustomShading )
#line 380 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 381 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
case CST_FULL_CUSTOMIZED : 
#line 382 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 384 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_aoLightAnimation  . GetData  () != NULL ){
#line 386 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SLONG  colFrame0  , colFrame1 ;FLOAT fRatio ;
#line 387 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_aoLightAnimation  . GetFrame  (colFrame0  , colFrame1  , fRatio );
#line 388 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
UBYTE  ubAnimR0  , ubAnimG0  , ubAnimB0 ;
#line 389 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
UBYTE  ubAnimR1  , ubAnimG1  , ubAnimB1 ;
#line 390 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
ColorToRGB  (colFrame0  , ubAnimR0  , ubAnimG0  , ubAnimB0 );
#line 391 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
ColorToRGB  (colFrame1  , ubAnimR1  , ubAnimG1  , ubAnimB1 );
#line 394 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
FLOAT fAnimR  = NormByteToFloat  (Lerp  (ubAnimR0  , ubAnimR1  , fRatio ));
#line 395 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
FLOAT fAnimG  = NormByteToFloat  (Lerp  (ubAnimG0  , ubAnimG1  , fRatio ));
#line 396 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
FLOAT fAnimB  = NormByteToFloat  (Lerp  (ubAnimB0  , ubAnimB1  , fRatio ));
#line 399 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
UBYTE  ubLightR  , ubLightG  , ubLightB ;
#line 400 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
UBYTE  ubAmbientR  , ubAmbientG  , ubAmbientB ;
#line 401 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
ColorToRGB  (m_colLight  , ubLightR  , ubLightG  , ubLightB );
#line 402 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
ColorToRGB  (m_colAmbient  , ubAmbientR  , ubAmbientG  , ubAmbientB );
#line 403 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
colLight  = RGBToColor  ((UBYTE ) (ubLightR  * fAnimR ) , (UBYTE ) (ubLightG  * fAnimG ) , (UBYTE ) (ubLightB  * fAnimB ));
#line 404 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
colAmbient  = RGBToColor  ((UBYTE ) (ubAmbientR  * fAnimR ) , (UBYTE ) (ubAmbientG  * fAnimG ) , (UBYTE ) (ubAmbientB  * fAnimB ));
#line 407 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}else {
#line 408 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
colLight  = m_colLight ;
#line 409 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
colAmbient  = m_colAmbient ;
#line 410 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 413 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
CWorldSettingsController  * pwsc  = GetWSC  (this );
#line 414 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(pwsc  != NULL  && pwsc  -> m_bApplyShadingToModels )
#line 415 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 417 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
COLOR colShade  = GetWorld  () -> wo_atbTextureBlendings  [ 9 ] . tb_colMultiply ;
#line 418 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
colLight  = MulColors  (colLight  , colShade );
#line 419 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
colAmbient  = MulColors  (colAmbient  , colShade );
#line 420 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 422 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
AnglesToDirectionVector  (m_aShadingDirection  , vLightDirection );
#line 423 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
vLightDirection  = - vLightDirection ;
#line 424 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
break ;
#line 425 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 426 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
case CST_CONSTANT_SHADING : 
#line 427 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 429 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
UBYTE  lR  , lG  , lB  , aR  , aG  , aB  , rR  , rG  , rB ;
#line 430 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
ColorToRGB  (colLight  , lR  , lG  , lB );
#line 431 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
ColorToRGB  (colAmbient  , aR  , aG  , aB );
#line 432 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
colLight  = 0;
#line 433 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
rR  = (UBYTE ) Clamp  ((ULONG ) lR  + aR  , (ULONG ) 0 , (ULONG ) 255);
#line 434 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
rG  = (UBYTE ) Clamp  ((ULONG ) lG  + aG  , (ULONG ) 0 , (ULONG ) 255);
#line 435 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
rB  = (UBYTE ) Clamp  ((ULONG ) lB  + aB  , (ULONG ) 0 , (ULONG ) 255);
#line 436 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
colAmbient  = RGBToColor  (rR  , rG  , rB );
#line 437 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
break ;
#line 438 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 439 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
case CST_NONE : 
#line 440 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 442 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
break ;
#line 443 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 444 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 446 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_colBurning  != COLOR (C_WHITE  | CT_OPAQUE ))
#line 447 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 448 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
colAmbient  = MulColors  (colAmbient  , m_colBurning );
#line 449 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
colLight  = MulColors  (colLight  , m_colBurning );
#line 450 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return TRUE ;
#line 451 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 452 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return m_stClusterShadows  != ST_NONE ;
#line 453 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
  
#line 456 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
void CModelHolder2::MirrorAndStretch(FLOAT fStretch,BOOL bMirrorX) 
#line 457 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 458 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fStretchAll  *= fStretch ;
#line 459 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(bMirrorX ){
#line 460 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fStretchX  = - m_fStretchX ;
#line 461 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 462 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
  
#line 465 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
void CModelHolder2::StretchModel(void) {
#line 467 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(Abs  (m_fStretchX ) < 0.01f){m_fStretchX  = 0.01f;}
#line 468 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(Abs  (m_fStretchY ) < 0.01f){m_fStretchY  = 0.01f;}
#line 469 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(Abs  (m_fStretchZ ) < 0.01f){m_fStretchZ  = 0.01f;}
#line 470 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_fStretchAll  < 0.01f){m_fStretchAll  = 0.01f;}
#line 472 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(Abs  (m_fStretchX ) > 1000.0f){m_fStretchX  = 1000.0f * Sgn  (m_fStretchX );}
#line 473 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(Abs  (m_fStretchY ) > 1000.0f){m_fStretchY  = 1000.0f * Sgn  (m_fStretchY );}
#line 474 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(Abs  (m_fStretchZ ) > 1000.0f){m_fStretchZ  = 1000.0f * Sgn  (m_fStretchZ );}
#line 475 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_fStretchAll  > 1000.0f){m_fStretchAll  = 1000.0f;}
#line 477 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_bRandomStretch ){
#line 478 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_bRandomStretch  = FALSE ;
#line 480 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fStretchRndX  = Clamp  (m_fStretchRndX  , 0.0f , 1.0f);
#line 481 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fStretchRndY  = Clamp  (m_fStretchRndY  , 0.0f , 1.0f);
#line 482 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fStretchRndZ  = Clamp  (m_fStretchRndZ  , 0.0f , 1.0f);
#line 483 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fStretchRndAll  = Clamp  (m_fStretchRndAll  , 0.0f , 1.0f);
#line 485 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fStretchRandom  (1) = (FRnd  () * m_fStretchRndX  * 2 - m_fStretchRndX ) + 1;
#line 486 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fStretchRandom  (2) = (FRnd  () * m_fStretchRndY  * 2 - m_fStretchRndY ) + 1;
#line 487 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fStretchRandom  (3) = (FRnd  () * m_fStretchRndZ  * 2 - m_fStretchRndZ ) + 1;
#line 489 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
FLOAT fRNDAll  = (FRnd  () * m_fStretchRndAll  * 2 - m_fStretchRndAll ) + 1;
#line 490 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fStretchRandom  (1) *= fRNDAll ;
#line 491 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fStretchRandom  (2) *= fRNDAll ;
#line 492 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fStretchRandom  (3) *= fRNDAll ;
#line 493 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 495 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
GetModelObject  () -> StretchModel  (FLOAT3D (
#line 496 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fStretchAll  * m_fStretchX  * m_fStretchRandom  (1) , 
#line 497 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fStretchAll  * m_fStretchY  * m_fStretchRandom  (2) , 
#line 498 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fStretchAll  * m_fStretchZ  * m_fStretchRandom  (3)));
#line 499 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
ModelChangeNotify  ();
#line 500 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
  
#line 503 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
void CModelHolder2::InitModelHolder(void) {
#line 506 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_fnModel  == ""){
#line 507 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fnModel  = CTFILENAME  ("Models\\Editor\\Axis.mdl");
#line 508 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 510 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_fnReflection  == CTString ("Models\\Editor\\Vector.tex")){
#line 511 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fnReflection  = CTString ("");
#line 512 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 513 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_fnSpecular  == CTString ("Models\\Editor\\Vector.tex")){
#line 514 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fnSpecular  = CTString ("");
#line 515 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 516 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_fnBump  == CTString ("Models\\Editor\\Vector.tex")){
#line 517 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fnBump  = CTString ("");
#line 518 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 520 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_bActive ){
#line 521 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
InitAsModel  ();
#line 522 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}else {
#line 523 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
InitAsEditorModel  ();
#line 524 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 526 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SetModel  (m_fnModel );
#line 527 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
INDEX iAnim  = m_iModelAnimation ;
#line 528 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
FLOAT tmOffsetPhase  = 0.0f;
#line 529 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_iFirstRandomAnimation  >= 0)
#line 530 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 531 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
INDEX ctAnims  = GetModelObject  () -> GetAnimsCt  () - m_iFirstRandomAnimation ;
#line 532 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
iAnim  = m_iFirstRandomAnimation  + Clamp  (INDEX (FRnd  () * ctAnims ) , INDEX (0) , ctAnims );
#line 533 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
tmOffsetPhase  = FRnd  () * 10.0f;
#line 534 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 536 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
GetModelObject  () -> PlayAnim  (iAnim  , AOF_LOOPING );
#line 537 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
GetModelObject  () -> OffsetPhase  (tmOffsetPhase );
#line 540 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_fnOldModel  == ""){
#line 542 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fnOldModel  = m_fnModel ;
#line 544 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}else {
#line 546 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_fnOldModel  != m_fnModel ){
#line 547 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fnOldModel  = m_fnModel ;
#line 548 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
GetModelObject  () -> AutoSetTextures  ();
#line 549 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fnTexture  = GetModelObject  () -> mo_toTexture  . GetName  ();
#line 550 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fnReflection  = GetModelObject  () -> mo_toReflection  . GetName  ();
#line 551 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fnSpecular  = GetModelObject  () -> mo_toSpecular  . GetName  ();
#line 552 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fnBump  = GetModelObject  () -> mo_toBump  . GetName  ();
#line 553 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 554 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 556 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_bAttachments )
#line 557 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 558 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
GetModelObject  () -> AutoSetAttachments  ();
#line 559 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 560 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
else 
#line 561 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 562 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
GetModelObject  () -> RemoveAllAttachmentModels  ();
#line 563 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 565 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
try 
#line 566 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 567 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
GetModelObject  () -> mo_toTexture  . SetData_t  (m_fnTexture );
#line 568 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
GetModelObject  () -> mo_toTexture  . PlayAnim  (m_iTextureAnimation  , AOF_LOOPING );
#line 569 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
GetModelObject  () -> mo_toReflection  . SetData_t  (m_fnReflection );
#line 570 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
GetModelObject  () -> mo_toSpecular  . SetData_t  (m_fnSpecular );
#line 571 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
GetModelObject  () -> mo_toBump  . SetData_t  (m_fnBump );
#line 572 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}catch  (const char  * strError ){
#line 573 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
WarningMessage  (strError );
#line 574 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 577 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
StretchModel  ();
#line 578 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
ModelChangeNotify  ();
#line 580 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_bColliding  && m_bActive ){
#line 581 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SetPhysicsFlags  (EPF_MODEL_FIXED );
#line 582 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SetCollisionFlags  (ECF_MODEL_HOLDER );
#line 583 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}else {
#line 584 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SetPhysicsFlags  (EPF_MODEL_IMMATERIAL );
#line 585 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SetCollisionFlags  (ECF_IMMATERIAL );
#line 586 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 588 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
switch(m_stClusterShadows ){
#line 589 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
case ST_NONE : 
#line 590 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 591 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SetFlags  (GetFlags  () & ~ ENF_CLUSTERSHADOWS );
#line 593 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
break ;
#line 594 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 595 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
case ST_CLUSTER : 
#line 596 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 597 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SetFlags  (GetFlags  () | ENF_CLUSTERSHADOWS );
#line 599 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
break ;
#line 600 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 601 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
case ST_POLYGONAL : 
#line 602 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 604 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SetFlags  (GetFlags  () & ~ ENF_CLUSTERSHADOWS );
#line 605 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
break ;
#line 606 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 607 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 609 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_bBackground ){
#line 610 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SetFlags  (GetFlags  () | ENF_BACKGROUND );
#line 611 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}else {
#line 612 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SetFlags  (GetFlags  () & ~ ENF_BACKGROUND );
#line 613 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 615 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
try {
#line 616 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_aoLightAnimation  . SetData_t  (m_fnmLightAnimation );
#line 617 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}catch  (const char  * strError ){
#line 618 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
WarningMessage  (TRANS  ("Cannot load '%s': %s") , (const char  *) (CTString &) m_fnmLightAnimation  , strError );
#line 619 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fnmLightAnimation  = "";
#line 620 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 621 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_aoLightAnimation  . GetData  () != NULL ){
#line 622 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_aoLightAnimation  . PlayAnim  (m_iLightAnimation  , AOF_LOOPING );
#line 623 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 625 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_penDestruction  == NULL ){
#line 626 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_strDescription  . PrintF  ("%s,%s undestroyable" , (const char  *) m_fnModel  . FileName  () , (const char  *) m_fnTexture  . FileName  ());
#line 627 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}else {
#line 628 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_strDescription  . PrintF  ("%s,%s -> %s" , (const char  *) m_fnModel  . FileName  () , (const char  *) m_fnTexture  . FileName  () , 
#line 629 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
(const char  *) m_penDestruction  -> GetName  ());
#line 630 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 632 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return ;
#line 633 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
  
#line 637 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SLONG CModelHolder2::GetUsedMemory(void) 
#line 638 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 640 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SLONG  slUsedMemory  = sizeof  (CLight ) - sizeof  (CRationalEntity ) + CRationalEntity  :: GetUsedMemory  ();
#line 642 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
slUsedMemory  += m_fnModel  . Length  ();
#line 643 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
slUsedMemory  += m_fnTexture  . Length  ();
#line 644 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
slUsedMemory  += m_fnReflection  . Length  ();
#line 645 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
slUsedMemory  += m_fnSpecular  . Length  ();
#line 646 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
slUsedMemory  += m_fnBump  . Length  ();
#line 647 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
slUsedMemory  += m_strName  . Length  ();
#line 648 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
slUsedMemory  += m_strDescription  . Length  ();
#line 649 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
slUsedMemory  += m_fnmLightAnimation  . Length  ();
#line 650 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
slUsedMemory  += 1 * sizeof  (CAnimObject);
#line 651 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return slUsedMemory ;
#line 652 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
BOOL CModelHolder2::
#line 657 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
Die(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CModelHolder2_Die
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CModelHolder2::Die expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 660 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{FOREACHINLIST  (CEntity  , en_lnInParent  , en_lhChildren  , itenChild ){
#line 662 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
itenChild  -> SendEvent  (ERangeModelDestruction  ());
#line 663 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}}
#line 666 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
CModelDestruction  * pmd  = GetDestruction  ();
#line 667 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
pmd  -> SpawnDebris  (this );
#line 669 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
CModelHolder2  * penNext  = pmd  -> GetNextPhase  ();
#line 670 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(penNext  != NULL ){
#line 672 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
CEntity  * penNew  = GetWorld  () -> CopyEntityInWorld  (* penNext  , GetPlacement  ());
#line 673 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
penNew  -> GetModelObject  () -> StretchModel  (GetModelObject  () -> mo_Stretch );
#line 674 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
penNew  -> ModelChangeNotify  ();
#line 675 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
((CModelHolder2  *) penNew ) -> m_colBurning  = m_colBurning ;
#line 676 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
((CModelHolder2  *) penNew ) -> m_fChainSawCutDamage  = m_fChainSawCutDamage ;
#line 678 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(pmd  -> m_iStartAnim  != - 1)
#line 679 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 680 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
penNew  -> GetModelObject  () -> PlayAnim  (pmd  -> m_iStartAnim  , 0);
#line 681 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 684 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
CModelHolder2  & mhNew  = * ((CModelHolder2  *) penNew );
#line 685 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
mhNew  . m_cstCustomShading  = m_cstCustomShading ;
#line 686 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
mhNew  . m_colLight  = m_colLight ;
#line 687 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
mhNew  . m_colAmbient  = m_colAmbient ;
#line 688 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
mhNew  . m_fMipFadeDist  = m_fMipFadeDist ;
#line 689 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
mhNew  . m_fMipFadeLen  = m_fMipFadeLen ;
#line 690 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
mhNew  . m_fMipAdd  = m_fMipAdd ;
#line 691 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
mhNew  . m_fMipMul  = m_fMipMul ;
#line 694 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_dmtLastDamageType  == DMT_CHAINSAW )
#line 695 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{
#line 696 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
EDeath  eDeath ;
#line 697 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
mhNew  . m_fChainSawCutDamage  = 0.0f;
#line 698 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
mhNew  . m_dmtLastDamageType  = DMT_CHAINSAW ;
#line 699 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
penNew  -> SendEvent  (eDeath );
#line 700 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 701 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 713 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_penDestroyTarget  != NULL ){
#line 715 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SendToTarget  (m_penDestroyTarget  , EET_TRIGGER  , m_penLastDamager );
#line 716 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 719 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
Destroy  ();
#line 720 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
Return(STATE_CURRENT,EVoid());
#line 720 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CModelHolder2::
#line 722 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
Main(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CModelHolder2_Main
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CModelHolder2::Main expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 725 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
InitModelHolder  ();
#line 728 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_fMipFadeLenMetric  > m_rMipFadeDistMetric ){m_fMipFadeLenMetric  = m_rMipFadeDistMetric ;}
#line 751 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_rMipFadeDistMetric  > 0.0f){
#line 752 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fMipFadeDist  = Log2  (m_rMipFadeDistMetric  * 1024.0f * MIPRATIO );
#line 753 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fMipFadeLen  = Log2  ((m_rMipFadeDistMetric  + m_fMipFadeLenMetric ) * 1024.0f * MIPRATIO ) - m_fMipFadeDist ;
#line 754 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}else {
#line 755 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fMipFadeDist  = 0.0f;
#line 756 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_fMipFadeLen  = 0.0f;
#line 757 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 761 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_penDestruction  != NULL  && ! IsOfClass  (m_penDestruction  , "ModelDestruction")){
#line 762 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
WarningMessage  ("Destruction '%s' is wrong class!" , (const char  *) m_penDestruction  -> GetName  ());
#line 763 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_penDestruction  = NULL ;
#line 764 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 767 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SetTimerAt(THINKTIME_NEVER);
Jump(STATE_CURRENT, 0x00d20001, FALSE, EBegin());return TRUE;}BOOL CModelHolder2::H0x00d20001_Main_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x00d20001
switch(__eeInput.ee_slEvent){case(EVENTCODE_EBegin):{const EBegin&e= (EBegin&)__eeInput;

#line 771 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_penDestruction  != NULL ){
#line 772 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SetHealth  (GetDestruction  () -> m_fHealth );
#line 773 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 774 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return TRUE;
#line 775 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}ASSERT(FALSE);break;case(EVENTCODE_EActivate):{const EActivate&e= (EActivate&)__eeInput;

#line 778 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SwitchToModel  ();
#line 779 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_bActive  = TRUE ;
#line 780 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_bColliding ){
#line 781 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SetPhysicsFlags  (EPF_MODEL_FIXED );
#line 782 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SetCollisionFlags  (ECF_MODEL_HOLDER );
#line 783 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 784 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return TRUE;
#line 785 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}ASSERT(FALSE);break;case(EVENTCODE_EDeactivate):{const EDeactivate&e= (EDeactivate&)__eeInput;

#line 787 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SwitchToEditorModel  ();
#line 788 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SetPhysicsFlags  (EPF_MODEL_IMMATERIAL );
#line 789 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SetCollisionFlags  (ECF_IMMATERIAL );
#line 790 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_bActive  = FALSE ;
#line 791 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SetPhysicsFlags  (EPF_MODEL_IMMATERIAL );
#line 792 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
SetCollisionFlags  (ECF_IMMATERIAL );
#line 793 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return TRUE;
#line 794 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}ASSERT(FALSE);break;case(EVENTCODE_ERangeModelDestruction):{const ERangeModelDestruction&e= (ERangeModelDestruction&)__eeInput;

#line 798 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
{FOREACHINLIST  (CEntity  , en_lnInParent  , en_lhChildren  , itenChild ){
#line 800 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
itenChild  -> SendEvent  (ERangeModelDestruction  ());
#line 801 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}}
#line 803 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
Destroy  ();
#line 804 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return TRUE;
#line 805 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}ASSERT(FALSE);break;case(EVENTCODE_EDeath):{const EDeath&e= (EDeath&)__eeInput;

#line 808 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_penDestruction  != NULL ){
#line 809 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
Jump(STATE_CURRENT, STATE_CModelHolder2_Die, TRUE, EVoid());return TRUE;
#line 810 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 811 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return TRUE;
#line 812 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}ASSERT(FALSE);break;case(EVENTCODE_EChangeAnim):{const EChangeAnim&eChange= (EChangeAnim&)__eeInput;

#line 815 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_iModelAnimation  = eChange  . iModelAnim ;
#line 816 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_iTextureAnimation  = eChange  . iTextureAnim ;
#line 817 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_iLightAnimation  = eChange  . iLightAnim ;
#line 818 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(m_aoLightAnimation  . GetData  () != NULL ){
#line 819 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
m_aoLightAnimation  . PlayAnim  (m_iLightAnimation  , eChange  . bLightLoop  ? AOF_LOOPING  : 0);
#line 820 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 821 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(GetModelObject  () -> GetData  () != NULL ){
#line 822 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
GetModelObject  () -> PlayAnim  (m_iModelAnimation  , eChange  . bModelLoop  ? AOF_LOOPING  : 0);
#line 823 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 824 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
if(GetModelObject  () -> mo_toTexture  . GetData  () != NULL ){
#line 825 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
GetModelObject  () -> mo_toTexture  . PlayAnim  (m_iTextureAnimation  , eChange  . bTextureLoop  ? AOF_LOOPING  : 0);
#line 826 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}
#line 827 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return TRUE;
#line 828 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}ASSERT(FALSE);break;default:{
#line 830 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
return TRUE;
#line 831 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}ASSERT(FALSE);break;
#line 832 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTSE/Sources/EntitiesMP/ModelHolder2.es"
}return TRUE;}BOOL CModelHolder2::H0x00d20002_Main_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x00d20002
; ASSERT(FALSE); return TRUE;};