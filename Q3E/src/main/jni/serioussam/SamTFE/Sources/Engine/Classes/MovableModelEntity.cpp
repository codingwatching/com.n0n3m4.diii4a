/*
 * This file is generated by Entity Class Compiler, (c) CroTeam 1997-98
 */

#line 21 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"

#include <Engine/StdH.h>
#include <Engine/Entities/InternalClasses.h>
#include <Engine/Base/CRC.h>
#include <Engine/Base/Stream.h>
#include <Engine/Base/Console.h>
#include <Engine/Models/ModelObject.h>

#include <Engine/Classes/MovableModelEntity.h>
#include <Engine/Classes/MovableModelEntity_tables.h>
void CMovableModelEntity::SetDefaultProperties(void) {
  en_iCollisionBox = 0;
  en_iWantedCollisionBox = 0;
  CMovableEntity::SetDefaultProperties();
}
  void CMovableModelEntity::ChecksumForSync(ULONG & ulCRC,INDEX iExtensiveSyncCheck) 
#line 45 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
{
#line 46 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
CMovableEntity  :: ChecksumForSync  (ulCRC  , iExtensiveSyncCheck );
#line 47 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
if(iExtensiveSyncCheck  > 0){
#line 48 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
CRC_AddLONG  (ulCRC  , en_iCollisionBox );
#line 49 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
CRC_AddLONG  (ulCRC  , en_iWantedCollisionBox );
#line 50 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
}
#line 51 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
}
  void CMovableModelEntity::DumpSync_t(CTStream & strm,INDEX iExtensiveSyncCheck) 
#line 54 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
{
#line 55 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
CMovableEntity  :: DumpSync_t  (strm  , iExtensiveSyncCheck );
#line 56 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
if(iExtensiveSyncCheck  > 0){
#line 57 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
strm  . FPrintF_t  ("collision box: %d(%d)\n" , en_iCollisionBox  , en_iWantedCollisionBox );
#line 58 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
}
#line 59 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
}
  void CMovableModelEntity::PreMoving(void) 
#line 63 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
{
#line 65 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
if(en_iCollisionBox  != en_iWantedCollisionBox ){
#line 67 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
ChangeCollisionBoxIndexNow  (en_iWantedCollisionBox );
#line 68 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
}
#line 70 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
CMovableEntity  :: PreMoving  ();
#line 71 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
}
  void CMovableModelEntity::DoMoving(void) 
#line 73 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
{
#line 74 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
CMovableEntity  :: DoMoving  ();
#line 75 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
}
  INDEX CMovableModelEntity::GetCollisionBoxIndex(void) 
#line 79 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
{
#line 80 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
return en_iCollisionBox ;
#line 81 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
}
  BOOL CMovableModelEntity::CheckForCollisionNow(INDEX iNewCollisionBox,CEntity * * ppenObstacle) 
#line 85 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
{
#line 87 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
extern  BOOL CanEntityChangeCollisionBox  (CEntity  * pen  , INDEX iNewCollisionBox  , CEntity  * * ppenObstacle );
#line 88 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
return ! CanEntityChangeCollisionBox  (this  , en_iCollisionBox  , ppenObstacle );
#line 89 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
}
  BOOL CMovableModelEntity::ChangeCollisionBoxIndexNow(INDEX iNewCollisionBox,CEntity * * ppenObstacle) 
#line 93 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
{
#line 95 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
if(iNewCollisionBox  == en_iCollisionBox ){
#line 97 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
return TRUE ;
#line 98 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
}
#line 102 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
extern  BOOL CanEntityChangeCollisionBox  (CEntity  * pen  , INDEX iNewCollisionBox  , CEntity  * * ppenObstacle );
#line 103 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
BOOL bCanChange  = CanEntityChangeCollisionBox  (this  , iNewCollisionBox  , ppenObstacle );
#line 106 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
if(! bCanChange ){
#line 109 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
return FALSE ;
#line 110 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
}
#line 113 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
if(en_RenderType  == CEntity  :: RT_SKAMODEL  || en_RenderType  == CEntity  :: RT_SKAEDITORMODEL ){
#line 114 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
if(GetModelInstance  () != NULL ){
#line 116 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
GetModelInstance  () -> mi_iCurentBBox  = iNewCollisionBox ;
#line 117 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
}
#line 118 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
}
#line 120 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
en_iCollisionBox  = iNewCollisionBox ;
#line 121 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
en_iWantedCollisionBox  = iNewCollisionBox ;
#line 124 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
ModelChangeNotify  ();
#line 127 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
return TRUE ;
#line 128 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
}
  BOOL CMovableModelEntity::ChangeCollisionBoxIndexNow(INDEX iNewCollisionBox) 
#line 132 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
{
#line 133 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
CEntity  * penDummy ;
#line 134 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
return ChangeCollisionBoxIndexNow  (iNewCollisionBox  , & penDummy );
#line 135 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
}
  void CMovableModelEntity::ForceCollisionBoxIndexChange(INDEX iNewCollisionBox) 
#line 139 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
{
#line 141 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
if(en_RenderType  == CEntity  :: RT_SKAMODEL  || en_RenderType  == CEntity  :: RT_SKAEDITORMODEL ){
#line 142 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
if(GetModelInstance  () != NULL ){
#line 144 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
GetModelInstance  () -> mi_iCurentBBox  = iNewCollisionBox ;
#line 145 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
}
#line 146 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
}
#line 148 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
en_iCollisionBox  = iNewCollisionBox ;
#line 149 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
en_iWantedCollisionBox  = iNewCollisionBox ;
#line 152 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
ModelChangeNotify  ();
#line 153 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
}
  void CMovableModelEntity::ChangeCollisionBoxIndexWhenPossible(INDEX iNewCollisionBox) 
#line 157 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
{
#line 158 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
en_iWantedCollisionBox  = iNewCollisionBox ;
#line 159 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
}
  void CMovableModelEntity::Read_t(CTStream * istr) 
#line 169 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
{
#line 170 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
CMovableEntity  :: Read_t  (istr );
#line 171 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
}
  void CMovableModelEntity::Write_t(CTStream * ostr) 
#line 174 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
{
#line 175 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
CMovableEntity  :: Write_t  (ostr );
#line 176 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
}
  
#line 179 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
SLONG CMovableModelEntity::GetUsedMemory(void) 
#line 180 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
{
#line 181 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
return (sizeof  (CMovableModelEntity ) - sizeof  (CMovableEntity ) + CMovableEntity  :: GetUsedMemory  ());
#line 182 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
}
BOOL CMovableModelEntity::
#line 189 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
Dummy(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CMovableModelEntity_Dummy
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CMovableModelEntity::Dummy expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput; ASSERT(FALSE); return TRUE;};BOOL CMovableModelEntity::
#line 192 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
WaitUntilScheduledAnimStarts(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CMovableModelEntity_WaitUntilScheduledAnimStarts
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CMovableModelEntity::WaitUntilScheduledAnimStarts expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 194 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
ASSERT  (en_RenderType  == CEntity  :: RT_MODEL  || en_RenderType  == CEntity  :: RT_EDITORMODEL );
#line 195 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
FLOAT fToWait  = GetModelObject  () -> ao_tmAnimStart  - _pTimer  -> CurrentTick  ();
#line 196 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
if(!(fToWait  > 0)){ Jump(STATE_CURRENT,0x00020004, FALSE, EInternal());return TRUE;}
#line 198 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
SetTimerAfter(fToWait  + _pTimer  -> TickQuantum );
Jump(STATE_CURRENT, 0x00020002, FALSE, EBegin());return TRUE;}BOOL CMovableModelEntity::H0x00020002_WaitUntilScheduledAnimStarts_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x00020002
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x00020003, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CMovableModelEntity::H0x00020003_WaitUntilScheduledAnimStarts_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x00020003
;Jump(STATE_CURRENT,0x00020004, FALSE, EInternal());return TRUE;}BOOL CMovableModelEntity::H0x00020004_WaitUntilScheduledAnimStarts_03(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x00020004

#line 200 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
Return(STATE_CURRENT,EReturn  ());
#line 200 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Engine/Classes/MovableModelEntity.es"
return TRUE; ASSERT(FALSE); return TRUE;};