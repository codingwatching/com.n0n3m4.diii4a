/*
 * This file is generated by Entity Class Compiler, (c) CroTeam 1997-98
 */

#line 17 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"

#include "Entities/StdH/StdH.h"
#include "Models/Enemies/Cyborg/Bike.h"

#include <Entities/CyborgBike.h>
#include <Entities/CyborgBike_tables.h>
CEntityEvent *ECyborgBike::MakeCopy(void) { CEntityEvent *peeCopy = new ECyborgBike(*this); return peeCopy;}
ECyborgBike::ECyborgBike() : CEntityEvent(EVENTCODE_ECyborgBike) {;
 ClearToDefault(fSpeed);
};
#line 31 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"

static EntityInfo eiCyborgBike = {
  EIBT_FLESH, 1300.0f,
  0.0f, 0.0f, 0.0f,
  0.0f, 0.0f, 0.0f,
};

void CCyborgBike::SetDefaultProperties(void) {
  m_fSpeed = 0.0f;
  m_iIndex = 0;
  CMovableModelEntity::SetDefaultProperties();
}
BOOL CCyborgBike::
#line 70 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
MainLoop(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CCyborgBike_MainLoop
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CCyborgBike::MainLoop expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 71 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
SetDesiredTranslation  (FLOAT3D (0 , - (2.0f + FRnd  () * 2.0f) , - m_fSpeed ));
#line 72 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
SetDesiredRotation  (ANGLE3D (0 , 0 , 0));
#line 75 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
SetTimerAfter(10.0f);
Jump(STATE_CURRENT, 0x014b0002, FALSE, EBegin());return TRUE;}BOOL CCyborgBike::H0x014b0002_MainLoop_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x014b0002
switch(__eeInput.ee_slEvent){case(EVENTCODE_EBegin):{const EBegin&e= (EBegin&)__eeInput;
return TRUE;}ASSERT(FALSE);break;case(EVENTCODE_ETouch):{const ETouch&et= (ETouch&)__eeInput;

#line 79 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
if(et  . penOther  -> GetRenderType  () & RT_BRUSH ){
#line 80 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
SetDesiredTranslation  (FLOAT3D (0 , 0 , 0));
#line 81 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
SetDesiredRotation  (ANGLE3D (0 , 0 , 0));
#line 82 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
UnsetTimer();Jump(STATE_CURRENT,0x014b0003, FALSE, EInternal());return TRUE;
#line 83 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
}
#line 84 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
return TRUE;
#line 85 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
}ASSERT(FALSE);break;case(EVENTCODE_EDamage):{const EDamage&e= (EDamage&)__eeInput;
return TRUE;}ASSERT(FALSE);break;case(EVENTCODE_EDeath):{const EDeath&e= (EDeath&)__eeInput;
UnsetTimer();Jump(STATE_CURRENT,0x014b0003, FALSE, EInternal());return TRUE;}ASSERT(FALSE);break;case(EVENTCODE_ETimer):{const ETimer&e= (ETimer&)__eeInput;
UnsetTimer();Jump(STATE_CURRENT,0x014b0003, FALSE, EInternal());return TRUE;}ASSERT(FALSE);break;default: return FALSE; break;
#line 89 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
}return TRUE;}BOOL CCyborgBike::H0x014b0003_MainLoop_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x014b0003

#line 92 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
SwitchToEditorModel  ();
#line 93 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
SetPhysicsFlags  (EPF_MODEL_IMMATERIAL );
#line 94 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
SetCollisionFlags  (ECF_IMMATERIAL );
#line 97 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
m_iIndex  = 0;
#line 98 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
Jump(STATE_CURRENT,0x014b0006, FALSE, EInternal());return TRUE;}BOOL CCyborgBike::H0x014b0006_MainLoop_05(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x014b0006
if(!(m_iIndex  < 4)){ Jump(STATE_CURRENT,0x014b0007, FALSE, EInternal());return TRUE;}
#line 100 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
CPlacement3D plExplosion ;
#line 101 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
plExplosion  . pl_PositionVector  = FLOAT3D (FRnd  () * 4.0f - 2.0f , FRnd  () * 4.0f - 2.0f , FRnd  () * 2.0f);
#line 102 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
plExplosion  . RelativeToAbsolute  (GetPlacement  ());
#line 103 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
ESpawnEffect  eSpawnEffect ;
#line 104 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
eSpawnEffect  . colMuliplier  = C_WHITE  | CT_OPAQUE ;
#line 105 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
eSpawnEffect  . betType  = BET_GRENADE ;
#line 106 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
eSpawnEffect  . vStretch  = FLOAT3D (1 , 1 , 1);
#line 107 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
CEntityPointer penExplosion  = CreateEntity  (plExplosion  , CLASS_BASIC_EFFECT );
#line 108 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
penExplosion  -> Initialize  (eSpawnEffect );
#line 111 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
FLOAT3D vSource ;
#line 112 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
GetEntityInfoPosition  (this  , eiCyborgBike  . vTargetCenter  , vSource );
#line 113 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
InflictRangeDamage  (this  , DMT_EXPLOSION  , 15.0f , vSource  , 4.0f , 8.0f);
#line 116 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
SetTimerAfter(0.1f + FRnd  () / 5);
Jump(STATE_CURRENT, 0x014b0004, FALSE, EBegin());return TRUE;}BOOL CCyborgBike::H0x014b0004_MainLoop_03(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x014b0004
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x014b0005, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CCyborgBike::H0x014b0005_MainLoop_04(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x014b0005
;
#line 117 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
m_iIndex  ++;Jump(STATE_CURRENT,0x014b0006, FALSE, EInternal());return TRUE;
#line 118 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
}BOOL CCyborgBike::H0x014b0007_MainLoop_06(const CEntityEvent &__eeInput) {
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x014b0007

#line 121 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
Destroy  ();
#line 123 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
Return(STATE_CURRENT,EVoid());
#line 123 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CCyborgBike::
#line 128 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
Main(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CCyborgBike_Main
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_ECyborgBike, "CCyborgBike::Main expects 'ECyborgBike' as input!");  const ECyborgBike &ecb = (const ECyborgBike &)__eeInput;
#line 129 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
m_fSpeed  = ecb  . fSpeed ;
#line 132 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
InitAsModel  ();
#line 133 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
SetCollisionFlags  (ECF_MODEL );
#line 134 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
SetFlags  (GetFlags  () | ENF_ALIVE );
#line 135 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
SetPhysicsFlags  (EPF_MODEL_FLYING );
#line 136 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
en_fDensity  = 5000.0f;
#line 137 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
SetHealth  (50.0f);
#line 140 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
SetComponents  (this  , * GetModelObject  () , MODEL_BIKE  , TEXTURE_BIKE  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 141 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
ModelChangeNotify  ();
#line 143 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
Jump(STATE_CURRENT, STATE_CCyborgBike_MainLoop, TRUE, EVoid());return TRUE;
#line 145 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
Return(STATE_CURRENT,EVoid());
#line 145 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CyborgBike.es"
return TRUE; ASSERT(FALSE); return TRUE;};