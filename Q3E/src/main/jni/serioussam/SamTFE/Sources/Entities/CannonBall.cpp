/*
 * This file is generated by Entity Class Compiler, (c) CroTeam 1997-98
 */

#line 17 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"

#include "Entities/StdH/StdH.h"
#include "Models/Weapons/Cannon/Projectile/CannonBall.h"
#include "Entities/MovingBrush.h"
#include "Entities/DestroyableArchitecture.h"

#include <Entities/CannonBall.h>
#include <Entities/CannonBall_tables.h>
CEntityEvent *ELaunchCannonBall::MakeCopy(void) { CEntityEvent *peeCopy = new ELaunchCannonBall(*this); return peeCopy;}
ELaunchCannonBall::ELaunchCannonBall() : CEntityEvent(EVENTCODE_ELaunchCannonBall) {;
 ClearToDefault(penLauncher);
 ClearToDefault(cbtType);
 ClearToDefault(fLaunchPower);
};
CEntityEvent *EForceExplode::MakeCopy(void) { CEntityEvent *peeCopy = new EForceExplode(*this); return peeCopy;}
EForceExplode::EForceExplode() : CEntityEvent(EVENTCODE_EForceExplode) {;
};
#line 43 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"


// projectile solid
#define ECF_CANNON_BALL ( \
  ((ECBI_MODEL|ECBI_BRUSH|ECBI_PROJECTILE_SOLID|ECBI_CORPSE|ECBI_MODEL_HOLDER|ECBI_MODEL_HOLDER)<<ECB_TEST) |\
  ((ECBI_PROJECTILE_SOLID)<<ECB_IS) |\
  ((ECBI_MODEL|ECBI_MODEL_HOLDER|ECBI_CORPSE)<<ECB_PASS) )

#define IRON_LIFE_TIME  10.0f
#define NUKE_LIFE_TIME  5.0f

#define CANNONBALL_STRETCH 3.0f

// damages
#define IRON_DAMAGE_MIN 400.0f
#define IRON_DAMAGE_MAX 750.0f
#define IRON_RANGE_DAMAGE (25.0f/4)   // because we have 4 explosions //50
#define IRON_RANGE_HOTSPOT 2.0f  //2
#define IRON_RANGE_FALLOFF 16.0f //8

#define NUKE_DAMAGE_MIN 600.0f
#define NUKE_DAMAGE_MAX 800.0f
#define NUKE_RANGE_DAMAGE (1000.0f/13)   // because we have 13 explosions
#define NUKE_RANGE_HOTSPOT 15.0f
#define NUKE_RANGE_FALLOFF 50.0f
#define SOUND_RANGE 250.0f

#define STRETCH_0  FLOAT3D(0.0f,0.0f,0.0f)
#define STRETCH_1  FLOAT3D(1.0f,1.0f,1.0f)
#define STRETCH_2  FLOAT3D(2.0f,2.0f,2.0f)
#define STRETCH_3  FLOAT3D(3.0f,3.0f,3.0f)
#define STRETCH_4  FLOAT3D(4.0f,4.0f,4.0f)
#define STRETCH_6  FLOAT3D(6.0f,6.0f,6.0f)
#define STRETCH_8  FLOAT3D(8.0f,8.0f,8.0f)
#define STRETCH_10 FLOAT3D(10.0f,10.0f,10.0f)

void CCannonBall_OnPrecache(CDLLEntityClass *pdec, INDEX iUser) 
{
  pdec->PrecacheClass(CLASS_BASIC_EFFECT, BET_CANNON);
  pdec->PrecacheClass(CLASS_BASIC_EFFECT, BET_CANNONEXPLOSIONSTAIN);
  pdec->PrecacheClass(CLASS_BASIC_EFFECT, BET_CANNONSHOCKWAVE);

  pdec->PrecacheModel(MODEL_BALL);
  pdec->PrecacheTexture(TEXTURE_IRON_BALL);
  pdec->PrecacheTexture(TEXTURE_NUKE_BALL);
  pdec->PrecacheTexture(TEX_REFL_BWRIPLES01);
  pdec->PrecacheTexture(TEX_SPEC_MEDIUM);
  pdec->PrecacheSound(SOUND_BALL_BOUNCE);
}


void CCannonBall::SetDefaultProperties(void) {
  m_penLauncher = NULL;
  m_fLaunchPower = 0.0f;
  m_fIgnoreTime = 0.0f;
  m_fStartTime = 0.0f;
  m_iNextChannel = 0;
  m_bSelfExploded = FALSE ;
  m_soBounce0.SetOwner(this);
m_soBounce0.Stop_internal();
  m_soBounce1.SetOwner(this);
m_soBounce1.Stop_internal();
  m_soBounce2.SetOwner(this);
m_soBounce2.Stop_internal();
  m_soBounce3.SetOwner(this);
m_soBounce3.Stop_internal();
  m_soBounce4.SetOwner(this);
m_soBounce4.Stop_internal();
  m_cbtType = CBT_IRON ;
  m_tmInvisibility = 0.0f;
  m_tmExpandBox = 0.0f;
  m_tmForceExplode = 0.0f;
  CMovableModelEntity::SetDefaultProperties();
}
  
#line 142 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
void CCannonBall::PreMoving(void) {
#line 143 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(m_tmExpandBox  > 0){
#line 144 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(_pTimer  -> CurrentTick  () > m_fStartTime  + m_tmExpandBox ){
#line 145 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
ChangeCollisionBoxIndexWhenPossible  (1);
#line 146 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
m_tmExpandBox  = 0;
#line 147 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 148 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 149 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
CMovableModelEntity  :: PreMoving  ();
#line 150 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
  
#line 152 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
void CCannonBall::PostMoving(void) 
#line 153 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 154 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
CMovableModelEntity  :: PostMoving  ();
#line 155 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(en_vCurrentTranslationAbsolute  . Length  () < 1.0f || 
#line 156 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
_pTimer  -> CurrentTick  () >= m_tmForceExplode  || 
#line 157 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
(GetCollisionBoxIndex  () == 0 && 
#line 158 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
(_pTimer  -> CurrentTick  () > m_fStartTime  + m_tmExpandBox  + 0.5f)))
#line 159 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 160 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SendEvent  (EForceExplode  ());
#line 161 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 162 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
  
#line 164 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
void CCannonBall::Read_t(CTStream * istr) 
#line 165 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 166 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
CMovableModelEntity  :: Read_t  (istr );
#line 169 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
  
#line 182 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
BOOL CCannonBall::AdjustShadingParameters(FLOAT3D & vLightDirection,COLOR & colLight,COLOR & colAmbient) 
#line 183 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 185 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
CModelObject * pmo  = GetModelObject  ();
#line 186 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if((pmo  != NULL ) && (_pTimer  -> GetLerpedCurrentTick  () < (m_fStartTime  + m_tmInvisibility )))
#line 187 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 189 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
pmo  -> mo_colBlendColor  = 0;
#line 190 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 191 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
else 
#line 192 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 194 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
pmo  -> mo_colBlendColor  = C_WHITE  | CT_OPAQUE ;
#line 195 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 196 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
return CEntity  :: AdjustShadingParameters  (vLightDirection  , colLight  , colAmbient );
#line 197 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
  
#line 218 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
void CCannonBall::RenderParticles(void) {
#line 220 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(GetRenderType  () != CEntity  :: RT_MODEL ){
#line 221 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
return ;
#line 222 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 224 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
FLOAT fSpeedRatio  = Min  (en_vCurrentTranslationAbsolute  . Length  () / 140.0f , 1.0f);
#line 225 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
INDEX ctFireParticles  = INDEX ((Max  (fSpeedRatio  - 0.5f , 0.0f) * 2.0f) * 128);
#line 227 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(_pTimer  -> GetLerpedCurrentTick  () - m_fStartTime  > 0.075)
#line 228 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 229 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Particles_BeastBigProjectileTrail  (this  , 2.0f , 1.0f , 0.75f , ctFireParticles );
#line 230 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 231 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
  
#line 233 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
void CCannonBall::Initialize(void) {
#line 235 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
InitAsModel  ();
#line 236 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SetPhysicsFlags  (EPF_MODEL_BOUNCING );
#line 237 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SetCollisionFlags  (ECF_CANNON_BALL );
#line 238 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SetModel  (MODEL_BALL );
#line 239 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(m_cbtType  == CBT_IRON )
#line 240 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 241 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SetModelMainTexture  (TEXTURE_IRON_BALL );
#line 242 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 243 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
else 
#line 244 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 245 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SetModelMainTexture  (TEXTURE_NUKE_BALL );
#line 246 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 248 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
GetModelObject  () -> StretchModel  (FLOAT3D (CANNONBALL_STRETCH  , CANNONBALL_STRETCH  , CANNONBALL_STRETCH ));
#line 249 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
ModelChangeNotify  ();
#line 252 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
GetModelObject  () -> mo_toReflection  . SetData  (GetTextureDataForComponent  (TEX_REFL_BWRIPLES01 ));
#line 254 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
GetModelObject  () -> mo_toSpecular  . SetData  (GetTextureDataForComponent  (TEX_SPEC_MEDIUM ));
#line 256 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
LaunchAsFreeProjectile  (FLOAT3D (0.0f , 0.0f , - m_fLaunchPower ) , (CMovableEntity  *) (CEntity  *) m_penLauncher );
#line 257 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
en_fBounceDampNormal  = 0.5f;
#line 258 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
en_fBounceDampParallel  = 0.75f;
#line 259 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
en_fAcceleration  = 0.0f;
#line 260 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
en_fDeceleration  = 5.0f;
#line 261 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
en_fCollisionSpeedLimit  = 40.0f;
#line 262 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
en_fCollisionDamageFactor  = 10.0f;
#line 263 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SetHealth  (50000.0f);
#line 264 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
GetModelObject  () -> PlayAnim  (CANNONBALL_ANIM_FIRESLOW  , 0);
#line 265 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
  
#line 267 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
FLOAT CCannonBall::CalculateDamageToInflict(void) 
#line 268 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 269 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
FLOAT fMaxDamage  = IRON_DAMAGE_MAX ;
#line 270 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(m_cbtType  == CBT_NUKE )
#line 271 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 272 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
fMaxDamage  = IRON_DAMAGE_MAX ;
#line 273 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 276 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
FLOAT fSpeedRatio  = en_vCurrentTranslationAbsolute  . Length  () / 140.0f;
#line 278 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
FLOAT fApplyDamage  = Clamp  (fSpeedRatio  * fMaxDamage  , 0.0f , fMaxDamage );
#line 279 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
return fApplyDamage ;
#line 280 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
  
#line 282 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
void CCannonBall::Explosion(FLOAT3D vCenter,
#line 283 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
const FLOAT3D & vStretchExplosion,
#line 284 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
const FLOAT3D & vStretchShockwave,
#line 285 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
const FLOAT3D & vStretchStain,
#line 286 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
BOOL bHasExplosion,
#line 287 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
BOOL bHasShockWave,
#line 288 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
BOOL bHasStain,
#line 289 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
BOOL bHasLight) 
#line 290 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 291 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
ESpawnEffect  ese ;
#line 292 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
FLOAT3D vOnPlane ;
#line 293 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
FLOATplane3D vPlaneNormal ;
#line 294 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
FLOAT fDistanceToEdge ;
#line 297 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(bHasExplosion )
#line 298 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 299 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
ese  . colMuliplier  = C_WHITE  | CT_OPAQUE ;
#line 300 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(bHasLight )
#line 301 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 302 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
ese  . betType  = BET_CANNON ;
#line 303 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 304 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
else 
#line 305 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 306 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
ese  . betType  = BET_CANNON_NOLIGHT ;
#line 307 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 308 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
ese  . vStretch  = vStretchExplosion ;
#line 309 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
CPlacement3D plHandle  = GetPlacement  ();
#line 310 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
plHandle  . pl_PositionVector  += vCenter ;
#line 311 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SpawnEffect  (plHandle  , ese );
#line 313 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(IsDerivedFromClass  (m_penLauncher  , "Player")){
#line 314 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SpawnRangeSound  (m_penLauncher  , this  , SNDT_PLAYER  , 100.0f);
#line 315 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 316 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 318 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(GetNearestPolygon  (vOnPlane  , vPlaneNormal  , fDistanceToEdge )){
#line 319 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if((vOnPlane  - GetPlacement  () . pl_PositionVector ) . Length  () < 3.5f){
#line 320 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(bHasStain )
#line 321 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 323 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
ese  . colMuliplier  = C_WHITE  | CT_OPAQUE ;
#line 324 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
ese  . betType  = BET_CANNONEXPLOSIONSTAIN ;
#line 325 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
ese  . vNormal  = FLOAT3D (vPlaneNormal );
#line 326 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
ese  . vStretch  = vStretchShockwave ;
#line 327 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SpawnEffect  (CPlacement3D (vOnPlane  , ANGLE3D (0 , 0 , 0)) , ese );
#line 328 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 329 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(bHasShockWave )
#line 330 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 332 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
ese  . colMuliplier  = C_WHITE  | CT_OPAQUE ;
#line 333 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
ese  . betType  = BET_CANNONSHOCKWAVE ;
#line 334 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
ese  . vNormal  = FLOAT3D (vPlaneNormal );
#line 335 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
ese  . vStretch  = vStretchShockwave ;
#line 336 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SpawnEffect  (CPlacement3D (vOnPlane  , ANGLE3D (0 , 0 , 0)) , ese );
#line 337 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 354 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 355 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 357 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
RangeDamage  ();
#line 358 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
  
#line 366 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
BOOL CCannonBall::BallTouchExplode(CEntityPointer penHit) 
#line 367 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 368 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
FLOAT fApplyDamage  = CalculateDamageToInflict  ();
#line 371 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
FLOAT fHealth  = 100;
#line 372 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
BOOL bForceCannonballToExplode  = FALSE ;
#line 374 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(penHit  -> GetPhysicsFlags  () & EPF_MOVABLE ){
#line 375 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
fHealth  = ((CMovableEntity  &) * penHit ) . GetHealth  ();
#line 376 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(IsDerivedFromClass  (penHit  , "Enemy Base"))
#line 377 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 378 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
bForceCannonballToExplode  = ((CEnemyBase  &) * penHit ) . ForcesCannonballToExplode  ();
#line 379 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 380 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}else {
#line 381 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(IsOfClass  (penHit  , "ModelHolder2")){
#line 382 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
fHealth  = ((CLiveEntity  &) * penHit ) . GetHealth  ();
#line 383 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}else {
#line 384 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
return FALSE ;
#line 385 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 386 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 387 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(IsOfClass  (penHit  , "Player")){
#line 388 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
fHealth  += ((CPlayer  &) * penHit ) . m_fArmor  * 2.0f;
#line 389 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 391 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
FLOAT3D vDirection  = en_vCurrentTranslationAbsolute ;
#line 392 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
vDirection  . Normalize  ();
#line 394 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
InflictDirectDamage  (penHit  , m_penLauncher  , DMT_CANNONBALL  , fApplyDamage  , 
#line 395 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
GetPlacement  () . pl_PositionVector  , vDirection );
#line 396 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
return (fApplyDamage  <= fHealth  || bForceCannonballToExplode );
#line 397 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
  
#line 400 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
void CCannonBall::RangeDamage(void) 
#line 401 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 402 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(m_cbtType  == CBT_IRON )
#line 403 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 404 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
InflictRangeDamage  (m_penLauncher  , DMT_CANNONBALL_EXPLOSION  , IRON_RANGE_DAMAGE  , 
#line 405 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
GetPlacement  () . pl_PositionVector  , IRON_RANGE_HOTSPOT  , IRON_RANGE_FALLOFF );
#line 406 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 407 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
else 
#line 408 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 410 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
InflictRangeDamage  (m_penLauncher  , DMT_CANNONBALL_EXPLOSION  , NUKE_RANGE_DAMAGE  , 
#line 411 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
GetPlacement  () . pl_PositionVector  , NUKE_RANGE_HOTSPOT  , NUKE_RANGE_FALLOFF );
#line 412 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 413 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
  
#line 417 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
void CCannonBall::SpawnEffect(const CPlacement3D & plEffect,const ESpawnEffect & eSpawnEffect) {
#line 418 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
CEntityPointer penEffect  = CreateEntity  (plEffect  , CLASS_BASIC_EFFECT );
#line 419 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
penEffect  -> Initialize  (eSpawnEffect );
#line 420 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
  
#line 427 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
void CCannonBall::BounceSound(FLOAT fSpeed) {
#line 428 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
FLOAT fVolume  = Clamp  (fSpeed  / 6.0f , 0.0f , 1.0f);
#line 429 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(fVolume  < 0.1f){
#line 430 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
return ;
#line 431 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 432 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
CSoundObject & so  = (& m_soBounce0 ) [ m_iNextChannel  ];
#line 433 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
m_iNextChannel  = (m_iNextChannel  + 1) % 5;
#line 434 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
so  . Set3DParameters  (70.0f , 10.0f , fVolume  , 1.0f);
#line 435 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
PlaySound  (so  , SOUND_BALL_BOUNCE  , SOF_3D );
#line 436 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
BOOL CCannonBall::
#line 444 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Bounce(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CCannonBall_Bounce
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CCannonBall::Bounce expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 446 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
CEntity  * penObstacle ;
#line 447 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(CheckForCollisionNow  (0 , & penObstacle )){
#line 449 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Return(STATE_CURRENT,EEnd  ());
#line 449 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
return TRUE;
#line 450 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 452 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
FLOAT fWaitTime  = IRON_LIFE_TIME ;
#line 454 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(m_cbtType  == CBT_NUKE )
#line 455 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 456 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
fWaitTime  = NUKE_LIFE_TIME ;
#line 457 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 459 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SetTimerAfter(fWaitTime );
Jump(STATE_CURRENT, 0x01fa0003, FALSE, EBegin());return TRUE;}BOOL CCannonBall::H0x01fa0003_Bounce_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa0003
switch(__eeInput.ee_slEvent){case(EVENTCODE_EBegin):{const EBegin&e= (EBegin&)__eeInput;
return TRUE;}ASSERT(FALSE);break;case(EVENTCODE_EPass):{const EPass&epass= (EPass&)__eeInput;

#line 462 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
BOOL bHit ;
#line 464 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
bHit  = epass  . penOther  != m_penLauncher  || _pTimer  -> CurrentTick  () > m_fIgnoreTime ;
#line 466 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
bHit  &= ! IsOfClass  (epass  . penOther  , "Twister");
#line 468 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(bHit )
#line 469 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 470 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(BallTouchExplode  (epass  . penOther )){UnsetTimer();Jump(STATE_CURRENT,0x01fa0004, FALSE, EInternal());return TRUE;}
#line 471 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 472 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
return TRUE;
#line 473 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}ASSERT(FALSE);break;case(EVENTCODE_ETouch):{const ETouch&etouch= (ETouch&)__eeInput;

#line 476 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(IsOfClass  (etouch  . penOther  , "Cannon ball"))
#line 477 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 478 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
UnsetTimer();Jump(STATE_CURRENT,0x01fa0004, FALSE, EInternal());return TRUE;
#line 479 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 480 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(IsOfClass  (etouch  . penOther  , "Moving Brush"))
#line 481 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 482 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
CMovingBrush  & br  = (CMovingBrush  &) * etouch  . penOther ;
#line 483 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(br  . m_fHealth  > 0)
#line 484 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 485 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
FLOAT3D vDirection  = en_vCurrentTranslationAbsolute ;
#line 486 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
vDirection  . Normalize  ();
#line 487 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
InflictDirectDamage  (etouch  . penOther  , m_penLauncher  , DMT_CANNONBALL  , CalculateDamageToInflict  () , 
#line 488 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
GetPlacement  () . pl_PositionVector  , vDirection );
#line 489 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
m_bSelfExploded  = FALSE ;
#line 490 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
UnsetTimer();Jump(STATE_CURRENT,0x01fa0004, FALSE, EInternal());return TRUE;
#line 491 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 492 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 493 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(IsOfClass  (etouch  . penOther  , "DestroyableArchitecture"))
#line 494 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 495 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
CDestroyableArchitecture  & br  = (CDestroyableArchitecture  &) * etouch  . penOther ;
#line 496 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(br  . m_fHealth  > 0)
#line 497 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 498 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
FLOAT3D vDirection  = en_vCurrentTranslationAbsolute ;
#line 499 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
vDirection  . Normalize  ();
#line 500 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
InflictDirectDamage  (etouch  . penOther  , m_penLauncher  , DMT_CANNONBALL  , CalculateDamageToInflict  () , 
#line 501 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
GetPlacement  () . pl_PositionVector  , vDirection );
#line 502 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
m_bSelfExploded  = FALSE ;
#line 503 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
UnsetTimer();Jump(STATE_CURRENT,0x01fa0004, FALSE, EInternal());return TRUE;
#line 504 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 505 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 508 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
BounceSound  (((FLOAT3D &) etouch  . plCollision ) % en_vCurrentTranslationAbsolute );
#line 509 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
return TRUE;
#line 510 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}ASSERT(FALSE);break;case(EVENTCODE_EForceExplode):{const EForceExplode&e= (EForceExplode&)__eeInput;
UnsetTimer();Jump(STATE_CURRENT,0x01fa0004, FALSE, EInternal());return TRUE;}ASSERT(FALSE);break;case(EVENTCODE_EDeath):{const EDeath&e= (EDeath&)__eeInput;
UnsetTimer();Jump(STATE_CURRENT,0x01fa0004, FALSE, EInternal());return TRUE;}ASSERT(FALSE);break;case(EVENTCODE_ETimer):{const ETimer&e= (ETimer&)__eeInput;
UnsetTimer();Jump(STATE_CURRENT,0x01fa0004, FALSE, EInternal());return TRUE;}ASSERT(FALSE);break;default: return FALSE; break;
#line 514 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}return TRUE;}BOOL CCannonBall::H0x01fa0004_Bounce_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa0004

#line 515 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
m_bSelfExploded  = TRUE ;
#line 516 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Return(STATE_CURRENT,EEnd  ());
#line 516 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CCannonBall::
#line 520 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Main(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CCannonBall_Main
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_ELaunchCannonBall, "CCannonBall::Main expects 'ELaunchCannonBall' as input!");  const ELaunchCannonBall &eLaunch = (const ELaunchCannonBall &)__eeInput;
#line 522 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
ASSERT  (eLaunch  . penLauncher  != NULL );
#line 523 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
m_penLauncher  = eLaunch  . penLauncher ;
#line 524 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
m_fLaunchPower  = eLaunch  . fLaunchPower ;
#line 525 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
m_cbtType  = eLaunch  . cbtType ;
#line 526 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
m_tmInvisibility  = 0.05f;
#line 527 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
m_bSelfExploded  = FALSE ;
#line 528 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
m_tmExpandBox  = 0.0001f;
#line 530 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
m_tmForceExplode  = _pTimer  -> CurrentTick  () + 30.0f;
#line 533 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Initialize  ();
#line 535 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SendEvent  (EReturn  ());
#line 536 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SetTimerAt(THINKTIME_NEVER);
Jump(STATE_CURRENT, 0x01fa0005, FALSE, EBegin());return TRUE;}BOOL CCannonBall::H0x01fa0005_Main_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa0005
switch(__eeInput.ee_slEvent){case(EVENTCODE_EBegin):{const EBegin&e= (EBegin&)__eeInput;
return TRUE;}ASSERT(FALSE);break;case(EVENTCODE_EReturn):{const EReturn&e= (EReturn&)__eeInput;
UnsetTimer();Jump(STATE_CURRENT,0x01fa0006, FALSE, EInternal());return TRUE;}ASSERT(FALSE);break;default: return FALSE; break;
#line 539 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}return TRUE;}BOOL CCannonBall::H0x01fa0006_Main_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa0006

#line 542 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
FLOAT tmCastCoverPath  = _pTimer  -> TickQuantum  * 1.5f;
#line 543 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
CCastRay  crRay  (m_penLauncher  , GetPlacement  () , m_fLaunchPower  * tmCastCoverPath );
#line 544 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
crRay  . cr_bHitTranslucentPortals  = FALSE ;
#line 545 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
crRay  . cr_fTestR  = 0.75f / 2.0f * CANNONBALL_STRETCH ;
#line 546 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
crRay  . cr_ttHitModels  = CCastRay  :: TT_COLLISIONBOX ;
#line 547 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
GetWorld  () -> CastRay  (crRay );
#line 550 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
m_fIgnoreTime  = _pTimer  -> CurrentTick  () + 0.1f;
#line 553 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
m_fStartTime  = _pTimer  -> CurrentTick  ();
#line 555 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(crRay  . cr_penHit  != NULL  && crRay  . cr_penHit  -> GetRenderType  () == RT_MODEL )
#line 556 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 557 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(BallTouchExplode  (crRay  . cr_penHit ))
#line 558 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
{
#line 559 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
m_tmForceExplode  = _pTimer  -> CurrentTick  () + tmCastCoverPath ;
#line 560 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 561 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
}
#line 563 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
STATE_CCannonBall_Bounce, TRUE;
Jump(STATE_CURRENT, 0x01fa0007, FALSE, EBegin());return TRUE;}BOOL CCannonBall::H0x01fa0007_Main_03(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa0007
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: Call(STATE_CURRENT, STATE_CCannonBall_Bounce, TRUE, EVoid());return TRUE;case EVENTCODE_EEnd: Jump(STATE_CURRENT,0x01fa0008, FALSE, __eeInput); return TRUE;default: return FALSE; }}BOOL CCannonBall::H0x01fa0008_Main_04(const CEntityEvent &__eeInput){
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa0008
const EEnd&__e= (EEnd&)__eeInput;
;
#line 566 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SwitchToEditorModel  ();
#line 568 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
ForceFullStop  ();
#line 571 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
ESound  eSound ;
#line 572 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
eSound  . EsndtSound  = SNDT_EXPLOSION ;
#line 573 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
eSound  . penTarget  = m_penLauncher ;
#line 574 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SendEventInRange  (eSound  , FLOATaabbox3D (GetPlacement  () . pl_PositionVector  , SOUND_RANGE ));
#line 576 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
if(!(m_cbtType  == CBT_IRON )){ Jump(STATE_CURRENT,0x01fa0023, FALSE, EInternal());return TRUE;}
#line 580 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Explosion  (FLOAT3D (0.0f , 0.0f , 0.0f) , STRETCH_3  , STRETCH_3  , STRETCH_4  , TRUE  , TRUE  , TRUE  , TRUE );
#line 581 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Explosion  (FLOAT3D (1.0f , 1.5f , 1.5f) , STRETCH_3  , STRETCH_3  , STRETCH_4  , TRUE  , FALSE  , FALSE  , FALSE );
#line 582 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Explosion  (FLOAT3D (- 2.0f , 1.0f , - 1.5f) , STRETCH_3  , STRETCH_3  , STRETCH_4  , TRUE  , FALSE  , FALSE  , FALSE );
#line 583 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Explosion  (FLOAT3D (- 1.0f , 0.5f , 1.0f) , STRETCH_4  , STRETCH_4  , STRETCH_4  , TRUE  , FALSE  , FALSE  , FALSE );Jump(STATE_CURRENT,0x01fa0022, FALSE, EInternal());return TRUE;}BOOL CCannonBall::H0x01fa0023_Main_31(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa0023
if(!(m_cbtType  == CBT_NUKE )){ Jump(STATE_CURRENT,0x01fa0021, FALSE, EInternal());return TRUE;}
#line 587 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Explosion  (FLOAT3D (0.0f , 0.0f , 0.0f) , STRETCH_6  , STRETCH_6  , STRETCH_10  , TRUE  , TRUE  , TRUE  , TRUE );
#line 588 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SetTimerAfter(0.15f);
Jump(STATE_CURRENT, 0x01fa0009, FALSE, EBegin());return TRUE;}BOOL CCannonBall::H0x01fa0009_Main_05(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa0009
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01fa000a, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CCannonBall::H0x01fa000a_Main_06(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa000a
;
#line 589 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Explosion  (FLOAT3D (4.0f , 5.0f , 5.0f) , STRETCH_4  , STRETCH_6  , STRETCH_10  , TRUE  , FALSE  , FALSE  , FALSE );
#line 590 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SetTimerAfter(0.2f);
Jump(STATE_CURRENT, 0x01fa000b, FALSE, EBegin());return TRUE;}BOOL CCannonBall::H0x01fa000b_Main_07(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa000b
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01fa000c, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CCannonBall::H0x01fa000c_Main_08(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa000c
;
#line 591 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Explosion  (FLOAT3D (- 5.0f , 3.0f , - 4.0f) , STRETCH_4  , STRETCH_6  , STRETCH_10  , TRUE  , FALSE  , FALSE  , FALSE );
#line 592 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SetTimerAfter(0.15f);
Jump(STATE_CURRENT, 0x01fa000d, FALSE, EBegin());return TRUE;}BOOL CCannonBall::H0x01fa000d_Main_09(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa000d
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01fa000e, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CCannonBall::H0x01fa000e_Main_10(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa000e
;
#line 593 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Explosion  (FLOAT3D (- 3.0f , 2.0f , 3.0f) , STRETCH_4  , STRETCH_6  , STRETCH_10  , TRUE  , FALSE  , FALSE  , FALSE );
#line 594 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SetTimerAfter(0.15f);
Jump(STATE_CURRENT, 0x01fa000f, FALSE, EBegin());return TRUE;}BOOL CCannonBall::H0x01fa000f_Main_11(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa000f
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01fa0010, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CCannonBall::H0x01fa0010_Main_12(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa0010
;
#line 595 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Explosion  (FLOAT3D (2.0f , 1.0f , 4.0f) , STRETCH_4  , STRETCH_6  , STRETCH_10  , TRUE  , TRUE  , FALSE  , FALSE );
#line 596 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SetTimerAfter(0.2f);
Jump(STATE_CURRENT, 0x01fa0011, FALSE, EBegin());return TRUE;}BOOL CCannonBall::H0x01fa0011_Main_13(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa0011
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01fa0012, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CCannonBall::H0x01fa0012_Main_14(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa0012
;
#line 597 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Explosion  (FLOAT3D (- 2.0f , 5.0f , - 4.0f) , STRETCH_4  , STRETCH_6  , STRETCH_10  , TRUE  , FALSE  , FALSE  , FALSE );
#line 598 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SetTimerAfter(0.18f);
Jump(STATE_CURRENT, 0x01fa0013, FALSE, EBegin());return TRUE;}BOOL CCannonBall::H0x01fa0013_Main_15(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa0013
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01fa0014, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CCannonBall::H0x01fa0014_Main_16(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa0014
;
#line 599 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Explosion  (FLOAT3D (- 3.0f , 2.0f , 2.0f) , STRETCH_4  , STRETCH_6  , STRETCH_10  , TRUE  , FALSE  , FALSE  , FALSE );
#line 600 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SetTimerAfter(0.25f);
Jump(STATE_CURRENT, 0x01fa0015, FALSE, EBegin());return TRUE;}BOOL CCannonBall::H0x01fa0015_Main_17(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa0015
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01fa0016, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CCannonBall::H0x01fa0016_Main_18(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa0016
;
#line 601 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Explosion  (FLOAT3D (0.0f , 4.0f , - 1.0f) , STRETCH_4  , STRETCH_6  , STRETCH_10  , TRUE  , FALSE  , FALSE  , FALSE );
#line 602 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SetTimerAfter(0.15f);
Jump(STATE_CURRENT, 0x01fa0017, FALSE, EBegin());return TRUE;}BOOL CCannonBall::H0x01fa0017_Main_19(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa0017
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01fa0018, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CCannonBall::H0x01fa0018_Main_20(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa0018
;
#line 603 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Explosion  (FLOAT3D (2.0f , 0.0f , - 3.0f) , STRETCH_4  , STRETCH_6  , STRETCH_10  , TRUE  , TRUE  , FALSE  , FALSE );
#line 604 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SetTimerAfter(0.25f);
Jump(STATE_CURRENT, 0x01fa0019, FALSE, EBegin());return TRUE;}BOOL CCannonBall::H0x01fa0019_Main_21(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa0019
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01fa001a, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CCannonBall::H0x01fa001a_Main_22(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa001a
;
#line 605 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Explosion  (FLOAT3D (- 1.0f , 2.0f , 0.0f) , STRETCH_4  , STRETCH_6  , STRETCH_10  , TRUE  , FALSE  , FALSE  , FALSE );
#line 606 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SetTimerAfter(0.125f);
Jump(STATE_CURRENT, 0x01fa001b, FALSE, EBegin());return TRUE;}BOOL CCannonBall::H0x01fa001b_Main_23(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa001b
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01fa001c, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CCannonBall::H0x01fa001c_Main_24(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa001c
;
#line 607 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Explosion  (FLOAT3D (3.0f , 1.0f , 1.0f) , STRETCH_4  , STRETCH_6  , STRETCH_10  , TRUE  , FALSE  , FALSE  , FALSE );
#line 608 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SetTimerAfter(0.1f);
Jump(STATE_CURRENT, 0x01fa001d, FALSE, EBegin());return TRUE;}BOOL CCannonBall::H0x01fa001d_Main_25(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa001d
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01fa001e, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CCannonBall::H0x01fa001e_Main_26(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa001e
;
#line 609 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Explosion  (FLOAT3D (3.0f , 2.0f , 2.0f) , STRETCH_4  , STRETCH_6  , STRETCH_10  , TRUE  , FALSE  , FALSE  , FALSE );
#line 610 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
SetTimerAfter(0.125f);
Jump(STATE_CURRENT, 0x01fa001f, FALSE, EBegin());return TRUE;}BOOL CCannonBall::H0x01fa001f_Main_27(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa001f
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01fa0020, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CCannonBall::H0x01fa0020_Main_28(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa0020
;
#line 611 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Explosion  (FLOAT3D (3.0f , 2.0f , 2.0f) , STRETCH_4  , STRETCH_6  , STRETCH_10  , TRUE  , TRUE  , FALSE  , FALSE );Jump(STATE_CURRENT,0x01fa0021, FALSE, EInternal());return TRUE;}BOOL CCannonBall::H0x01fa0021_Main_29(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa0021
Jump(STATE_CURRENT,0x01fa0022, FALSE, EInternal());return TRUE;}
BOOL CCannonBall::H0x01fa0022_Main_30(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01fa0022

#line 615 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Destroy  ();
#line 617 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
Return(STATE_CURRENT,EVoid());
#line 617 "/data/data/com.termux/files/home/doom3/SeriousSamClassic-1.10.7/SamTFE/Sources/Entities/CannonBall.es"
return TRUE; ASSERT(FALSE); return TRUE;};